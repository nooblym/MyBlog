# Java异常处理笔记

+ 异常信息不应该给用户显示，而是给出比较友好的提示信息；异常信息应该打印在log中供调试使用
  异常和堆栈信息是用来帮助开发人 员而不是用户的

## Q&A

1. 调用方法前检验参数和不检验直接调用参数？
   如果方法是public,protected等这样被外部可调用的时候，方法定义时需要进行值的合法性检验，因为无法确保外部始终传递合法的参数值。
   对于内部的private等可见性等，则不是必需的，因为内部调用相对是可控更高的。

异常应该提早抛出---又称＂迅速失败＂
    通过在检测到错误时立刻抛出异常来实现迅速失败，可以有效避免不必要的对象构造或资源占用，比如文件或网络连接。同样，打开这些资源所带来的清理操作也可以省却

数据合法性：
    是否存在数据 null or not null
    是否合法


方法/函数参数合法性的检验位置：方法体内 vs 调用方法之前

方法/函数参数合法性是否提前检验：提前检验再执行方法体  vs 直接不检验抛出异常来处理

对于一些检验合法性特别耗时的参数应该怎么处理：如base64，加密的数据...

每一个方法都应该是先检验参数合法性的吗？

对于有异常的方法返回值应该怎么处理：返回null vs 返回特定值 vs 抛出异常
    抛出异常：
        调用者不捕捉就会出现ERROR
    返回null：
        语义不明确
    返回特定值：
        调用者很可能会不处理特定值，只当成没有错误来使用
        调用者处理了返回值，会使代码繁杂，和业务代码混在一块降低阅读性

项目中的每一个异常都应该处理吗？

异常是应该throw还是catch？判断依据是什么
    如果当前可以修复异常那就catch，catch之后修正继续执行，反之则throw

方法应该有多个出口吗？

系统日志记录功能如何实现？
    要求：
    1.有格式
    2.能分级
    3.够详细，error能够重现
    4.性能损耗小

RuntimeException不会被编译器throw，那么怎么预防RuntimeException呢？

try内部许多不同的方法调用可能产生类型相同的异常，而再catch中的处理语句应该是处理此类型的代码，而不是特意处理某个语句错误的代码